import{aD as J,g as V,F as B,aE as K,a4 as X,aF as x,V as U,x as f,l as d,D as Z,U as b,j as W,o as ee,C as w,H as te,z as p,aG as D,L as F,aH as H,aI as m,aJ as L,aK as se,a1 as Y,a2 as j,aL as ie,P as N,k as y,n as ne,v as ae,aM as I,aN as re,Y as he,aO as le,aP as oe,Q as T,aQ as de,i as q,aR as fe,aS as G,w as v,m as Q,aT as A,av as k,aU as ue,S as _e,G as ce,aV as pe,aW as M,aX as ge,aY as E,aZ as ve,p as ye,aw as me,y as Ee,au as be,b as Te}from"./5HUvDlmk.js";function we(s){let e=0,t=B(0),i;return()=>{J()&&(V(t),K(()=>(e===0&&(i=X(()=>s(()=>x(t)))),e+=1,()=>{U(()=>{e-=1,e===0&&(i?.(),i=void 0,x(t))})})))}}var Re=he|le|oe;function De(s,e,t){new Fe(s,e,t)}class Fe{parent;#i=!1;#t;#p=d?f:null;#n;#d;#a;#s=null;#e=null;#r=null;#h=null;#f=0;#l=0;#u=!1;#o=null;#v=()=>{this.#o&&Z(this.#o,this.#f)};#y=we(()=>(this.#o=B(this.#f),()=>{this.#o=null}));constructor(e,t,i){this.#t=e,this.#n=t,this.#d=i,this.parent=b.b,this.#i=!!this.#n.pending,this.#a=W(()=>{if(b.b=this,d){const a=this.#p;ee(),a.nodeType===w&&a.data===te?this.#E():this.#m()}else{try{this.#s=p(()=>i(this.#t))}catch(a){this.error(a)}this.#l>0?this.#c():this.#i=!1}},Re),d&&(this.#t=f)}#m(){try{this.#s=p(()=>this.#d(this.#t))}catch(e){this.error(e)}this.#i=!1}#E(){const e=this.#n.pending;e&&(this.#e=p(()=>e(this.#t)),D.enqueue(()=>{this.#s=this.#_(()=>(D.ensure(),p(()=>this.#d(this.#t)))),this.#l>0?this.#c():(F(this.#e,()=>{this.#e=null}),this.#i=!1)}))}is_pending(){return this.#i||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(e){var t=b,i=Y,a=j;H(this.#a),m(this.#a),L(this.#a.ctx);try{return e()}catch(n){return se(n),null}finally{H(t),m(i),L(a)}}#c(){const e=this.#n.pending;this.#s!==null&&(this.#h=document.createDocumentFragment(),Ne(this.#s,this.#h)),this.#e===null&&(this.#e=p(()=>e(this.#t)))}#g(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(e);return}this.#l+=e,this.#l===0&&(this.#i=!1,this.#e&&F(this.#e,()=>{this.#e=null}),this.#h&&(this.#t.before(this.#h),this.#h=null))}update_pending_count(e){this.#g(e),this.#f+=e,ie.add(this.#v)}get_effect_pending(){return this.#y(),V(this.#o)}error(e){var t=this.#n.onerror;let i=this.#n.failed;if(this.#u||!t&&!i)throw e;this.#s&&(N(this.#s),this.#s=null),this.#e&&(N(this.#e),this.#e=null),this.#r&&(N(this.#r),this.#r=null),d&&(y(this.#p),ne(),y(ae()));var a=!1,n=!1;const h=()=>{if(a){de();return}a=!0,n&&re(),D.ensure(),this.#f=0,this.#r!==null&&F(this.#r,()=>{this.#r=null}),this.#i=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#u=!1,p(()=>this.#d(this.#t)))),this.#l>0?this.#c():this.#i=!1};var u=Y;try{m(null),n=!0,t?.(e,h),n=!1}catch(_){I(_,this.#a&&this.#a.parent)}finally{m(u)}i&&U(()=>{this.#r=this.#_(()=>{this.#u=!0;try{return p(()=>{i(this.#t,()=>e,()=>h)})}catch(_){return I(_,this.#a.parent),null}finally{this.#u=!1}})})}}function Ne(s,e){for(var t=s.nodes_start,i=s.nodes_end;t!==null;){var a=t===i?null:T(t);e.append(t),t=a}}let o;function Ae(){o=void 0}function Oe(s){let e=null,t=d;var i;if(d){for(e=f,o===void 0&&(o=Q(document.head));o!==null&&(o.nodeType!==w||o.data!==G);)o=T(o);o===null?v(!1):o=y(T(o))}d||(i=document.head.appendChild(q()));try{W(()=>s(i),fe)}finally{t&&(v(!0),o=f,y(e))}}let P=!0;function Se(s,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(s.__t??=s.nodeValue)&&(s.__t=t,s.nodeValue=t+"")}function ke(s,e){return $(s,e)}function xe(s,e){A(),e.intro=e.intro??!1;const t=e.target,i=d,a=f;try{for(var n=Q(t);n&&(n.nodeType!==w||n.data!==G);)n=T(n);if(!n)throw k;v(!0),y(n);const h=$(s,{...e,anchor:n});return v(!1),h}catch(h){if(h instanceof Error&&h.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw h;return h!==k&&console.warn("Failed to hydrate: ",h),e.recover===!1&&ue(),A(),_e(t),v(!1),ke(s,e)}finally{v(i),y(a),Ae()}}const g=new Map;function $(s,{target:e,anchor:t,props:i={},events:a,context:n,intro:h=!0}){A();var u=new Set,_=c=>{for(var l=0;l<c.length;l++){var r=c[l];if(!u.has(r)){u.add(r);var O=ve(r);e.addEventListener(r,E,{passive:O});var S=g.get(r);S===void 0?(document.addEventListener(r,E,{passive:O}),g.set(r,1)):g.set(r,S+1)}}};_(ce(pe)),M.add(_);var R=void 0,z=ge(()=>{var c=t??e.appendChild(q());return De(c,{pending:()=>{}},l=>{if(n){ye({});var r=j;r.c=n}if(a&&(i.$$events=a),d&&me(l,null),P=h,R=s(l,i)||{},P=!0,d&&(b.nodes_end=f,f===null||f.nodeType!==w||f.data!==Ee))throw be(),k;n&&Te()}),()=>{for(var l of u){e.removeEventListener(l,E);var r=g.get(l);--r===0?(document.removeEventListener(l,E),g.delete(l)):g.set(l,r)}M.delete(_),c!==t&&c.parentNode?.removeChild(c)}});return C.set(R,z),R}let C=new WeakMap;function He(s,e){const t=C.get(s);return t?(C.delete(s),t(e)):Promise.resolve()}export{xe as a,P as b,Oe as h,ke as m,Se as s,He as u};
